datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
generator client {
  provider = "prisma-client-js"
}

model Admin {
  id        Int  @id 
  login     String  @unique
  password  String
  createdAt DateTime @default(now())
}


model Trainer {
  id             String  @id @default(uuid())
  name           String
  specialization String
  createdAt      DateTime @default(now())

  classes        Class[]
}


model Client {
  id           String   @id @default(uuid()) 
  name         String   
  age          Int      
  subscription String   
  createdAt    DateTime @default(now())

  classParticipants ClassParticipants[]
}

model Class {
  id          String   @id @default(uuid())
  startTime   DateTime
  trainerId   String
  trainer     Trainer  @relation(fields: [trainerId], references: [id])
  createdAt   DateTime @default(now())

  classParticipants ClassParticipants[]
}

model ClassParticipants {
  classId  String
  clientId String

  class    Class  @relation(fields: [classId], references: [id], onDelete: Cascade)
  client   Client @relation(fields: [clientId], references: [id], onDelete: Cascade)

  @@id([classId, clientId])
}
